function HomeStory(e,t,n){function o(){for(var e=O.length,t=a,n=1-x,o=1/e,i=0;e>i;i++){var r=MathUtils.ratioFromRatio(1-o*(i+1),1-o*i,n);O[i].setRatioNoOffset(r,!1),TweenMax.set(O[i],{x:t._gsTransform.x-O[i].getWidth()}),t=O[i]}}function i(){null!=a.onStoryClick&&a.onStoryClick(t)}var a=document.createElement("div");a.style.position="absolute",a.style.backgroundColor=ColorUtils.WHITE,a.onStoryClick,Touchable.apply(a);var r,l,s,h,g,d,c,T,C,M,p,y,f,x=1,u=-1,w=0,m=!1,O=[],I=!1,_=0,E=ColorUtils.hex2rgb(UIColors.FONT_DARK),N=ColorUtils.hex2rgb(UIColors.LINE_ON_WHITE),A=TextAreaModel.MODE_LISTEN,R=!1,L=0,H=document.createElement("div");return H.style.position="absolute",a.setBodyModelController=function(){A=TextAreaModel.MODE_CONTROL},a.init=function(){a.onClick(i);var o,r,l,x,u,w,m,O=ContentManager.getChildByAttr(e,"name","images"),I=ContentManager.getChildrenByAttr(O,"name","image");_=I.length,(s=document.createElement("div")).style.position="absolute",s.style.backgroundColor=UIColors.LINE_ON_WHITE,a.appendChild(s),BrowserDetect.MOBILE||1>=_||(y=new RetinaImage("http://localhost/eshop/wp-content/themes/eShop/blog/assets/images/logo/arrow_short.png",Assets.RETINA_HANDLE),f=new RetinaImage("http://localhost/eshop/wp-content/themes/eShop/blog/assets/images/logo/arrow_short.png",Assets.RETINA_HANDLE),y.style.cursor="pointer",f.style.cursor="pointer",Touchable.apply(y),Touchable.apply(f),y.onClick(function(){h.nextImg()}),f.onClick(function(){h.prevImg()}),y.init(),f.init(),y.getContent().style.transform="rotatey(180deg)",H.appendChild(y),H.appendChild(f),a.appendChild(H)),function(){for(var t=ContentManager.getChildByAttr(e,"name","images"),n=ContentManager.getChildrenByAttr(t,"name","image"),o=[],i=n.length,r=0;i>r;r++)o.push(n[r].innerHTML);h=new ImageSlider(o),a.appendChild(h),h.init()}(),m=ContentManager.getChildByAttr(e,"name","headline"),(T=Text.getNewReg(23)).innerHTML=m.innerHTML,T.style.color=UIColors.FONT_DARK,a.appendChild(T),w=ContentManager.getChildByAttr(e,"name","image-tag-name"),(C=Text.getNewReg(13)).innerHTML=w.innerHTML,C.style.color=UIColors.FONT_DARK,a.appendChild(C),x=ContentManager.getChildByAttr(e,"name","body"),(u=Text.getNewReg(13)).lineHeightScale=14/13,(d=new TextArea(x.innerHTML,u)).init(n,TextAreaModel.MODE_LISTEN),d.style.color=UIColors.FONT_MED_ON_WHITE,(c=document.createElement("div")).style.position="absolute",c.appendChild(d),a.appendChild(c),r=ContentManager.getChildByAttr(e,"name","body"),(l=Text.getNewReg(13)).lineHeightScale=14/13,(g=new TextArea(r.innerHTML,l)).init(n,A),g.style.color=UIColors.FONT_MED_ON_WHITE,a.appendChild(g),o=ContentManager.getChildByAttr(e,"name","date"),(M=Text.getNewLight(13)).innerHTML=o.innerHTML,M.style.color=UIColors.FONT_DARK,a.appendChild(M),(p=Text.getNewMed(95)).innerHTML=t,p.style.color=UIColors.FONT_MED_ON_WHITE,a.appendChild(p)},a.setExpandedWidth=function(e){r=e},a.setCollapsedWidth=function(e){l=e},a.setHeight=function(e){_height=e,a.style.height=_height+"px",TweenMax.set(s,{width:1,x:-1,height:_height})},a.getWidth=function(){return l+(r-l)*x},a.setRatioOffset=function(e){w=e},a.setRatioNoOffset=function(e,t){x=e,m?0>e?(x+=1,R=!1):R=!0:R=!1,0>=x?x=0:x>=1?(x=1,I&&e>0&&o()):I&&e>0&&o(),a.style.width=a.getWidth()+"px",function(e){if(e||x!=u){m&&R&&(x=1);var t=(r-l)*x,n=18,o=SiteGuides.getCenterOffset()+125,i=.51*(l-n),s=_height-o,w=Math.ceil(i+(s-i)*x);TweenMax.set(p,{x:t+9,y:SiteGuides.OFFSET_TOP-Text.getOffsetY(p)-40*Math.cos(x*Math.PI+.5*Math.PI),width:l-n});var O=ColorUtils.interpolateRGB(N,E,x);if(p.style.color="rgb("+O.r+","+O.g+","+O.b+")",TweenMax.set(T,{x:t+9,y:SiteGuides.getCenterOffset()-Text.getOffsetY(T),width:l-n}),_>1){var I=Back.easeOut.getRatio(MathUtils.ratioFromRatio(.1,.8,x,!0)),A=Back.easeOut.getRatio(MathUtils.ratioFromRatio(.3,1,x,!0));null!=y&&null!=f&&(TweenMax.set(y,{y:o+40-72*I,x:9}),TweenMax.set(f,{y:o+40-72*A,x:41}))}TweenMax.set(h,{y:o,x:9}),h.setSize(a.getWidth()-n,w),TweenMax.set(c,{x:t+9,y:0,width:l-n,height:1e3});var L=0,H=l-n-10,B=0;BrowserDetect.MOBILE&&l>_height&&(H-=L=Math.floor(.5*l)),BrowserDetect.MOBILE&&(B=-20),TweenMax.set(d,{x:L,y:130-30*Math.cos(2*x*Math.PI-1)+B,width:H,alpha:2*x-1}),TweenMax.set(g,{x:t+9,y:o+w+9,width:l-n,alpha:1-2*x});var v=.5*(_height-o-i-9);100>v&&(v=100),g.setSize(l-n,v),TweenMax.set(C,{x:t+9,y:o-Text.getOffsetY(C)-n,width:l-n});var S=-40;BrowserDetect.MOBILE&&(S=-30),TweenMax.set(M,{x:t+9,y:SiteGuides.getCenterOffset()-Text.getOffsetY(M)+S,width:l-n}),u=x}}(t)},a.setRatio=function(e,t){.5>(L=e-w-1)&&L>-.5?h.setActive():h.setInactive(),a.setRatioNoOffset(MathUtils.ratioFromRatio(w,w+1,e,!m),t)},a.setLastStory=function(){m=!0},a.reverseStories=function(e){I=(O=e).length>0},a}